var StreakVisualization;(function(n){function a(n,t){c=n,o=t;var r=1e3,i=document.getElementById("streak"),u=Math.min(i.clientWidth,e);v(1e3,250),s()}function s(){var t=document.getElementById("streak"),n=Math.min(t.clientWidth,e);i.transition().delay(0).duration(0).attr("transform","scale("+n/1e3+")"),f.transition().delay(0).duration(0).attr("height",n/4).attr("width",n)}function v(n,e){r=e,t=n,u=r/2;var s=d3.range(20),h=d3.scale.linear().domain([d3.min(s),0,d3.max(s)]).range(["red","#CCCCCC","green"]),c=d3.scale.linear().domain([0,s.length]).range([0,t]);f=d3.select("#streak").append("svg").attr("width",t).attr("height",r).attr("name","streakvisualization"),i=f.append("g").attr("transform","translate(0,0)"),i.selectAll("rect").data(s,function(n,t){return t}).enter().append("rect").attr("x",0).attr("y",0).attr("width",0).attr("height",0).attr("fill","black"),i.append("line").attr("x1",0).attr("y1",u).attr("x2",t).attr("y2",u).attr("stroke","black"),o.AddHandler(y,this)}function y(n){if(n!=undefined&&n.RecentWinsLosses!=undefined){l=n,document.getElementById("winLossTitle").innerHTML=n.Name+"'s Win/Loss Streak";var e=d3.scale.linear().domain([d3.min(n.RecentWinsLosses),0,d3.max(n.RecentWinsLosses)]).range(["red","#CCCCCC","green"]),o=d3.scale.linear().domain([0,n.RecentWinsLosses.length]).range([0,t]),s=f.selectAll("rect").data(n.RecentWinsLosses,function(n,t){return t}).exit();s.transition().attr("width",0).attr("height",0),i.selectAll("rect").data(n.RecentWinsLosses,function(n,t){return t}).transition().attr("x",function(n,t){return o(t)}).attr("height",r/2).attr("width",t/n.RecentWinsLosses.length-h).attr("y",function(n){return n<0?u:0}).attr("fill",function(n){return e(n)})}}var e=480,h=1,c,o,r,t,u,f,l,i;n.CreateStreakDiagram=a,n.resize=s})(StreakVisualization||(StreakVisualization={}))